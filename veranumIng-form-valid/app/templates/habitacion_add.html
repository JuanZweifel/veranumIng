{% extends 'app/base_tipo.html' %}
{% load crispy_forms_tags %}

{% block titulo %}
    Añadir Habitacion
{% endblock titulo %}

{% block contenido %}

<div class="row">
    <div class="col-sm-4"></div>

    <div class="col-sm-4 mt-5 p-2">
        <h3>Añadir habitacion</h3>
        <form action="" method="post" enctype="multipart/form-data" class="formadd">
            {% csrf_token %}
            {{form|crispy}}

            <div>
                <input type="submit" value="Guardar" class="btn btn-success btn-lg">
            </div>

        </form>
    </div>

    <div class="col-sm-4"></div>

</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector(".formadd");
    form.addEventListener("submit", function(event) {
      const cantCamasInput = form.querySelector("#id_cant_camas");
      const cantBanosInput = form.querySelector("#id_cant_banos");
      const cantCamas = parseInt(cantCamasInput.value);
      const cantBanos = parseInt(cantBanosInput.value);
      if (cantCamas < 1 || isNaN(cantCamas)) {
        event.preventDefault();
        alert("La cantidad de camas debe ser mayor o igual a 1.");
      }
      if (cantBanos < 1 || isNaN(cantBanos)) {
        event.preventDefault();
        alert("La cantidad de baños debe ser mayor o igual a 1.");
      }
    });
  });
</script>

{% endblock contenido %}
